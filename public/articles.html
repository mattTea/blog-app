<!--
V3 of this page to show listed titles of blogs with a 2 line preview of each
Clicking anywhere on title or preview should link to ../articles/blog-title page
 -->


<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" type="text/css" href="style.css"/>
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Questrial"/>
<link rel="icon" type="image/png" href="favicon.png"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<title>B.A(ng)</title>

<style></style>
</head>

<body>

<!-- Navigation -->
<nav>
    <ul class="w3-navbar w3-black" id="navbar">
        <li><a href="index.html">Home</a></li>
        <li><a href="#" style="font-weight:bold">Blogs</a></li>
        <li><a href="about.html">About</a></li>
    </ul>
</nav>

<div class="main">

<!-- Headline -->
<div id="headline">
    <div class="container">
        <header>
            <h1><span>B.A(ng)</span></h1>
            <h2>from business analyst to engineer</h2>
        </header>
        <div id="blurb">
            <p>chatting about my experiences learning to code<br>and still trying to be a business analyst</p>
        </div>
    </div>
</div>

<!-- Blog Index & Details -->

<!--
Change this section to include...
- divs for blog n, 3, 2, 1
- to include title, preview, date, author
 -->

<!-- Blog Index & Preview -->

<div id="blogs" class="container">
  <h3>the blogs...</h3>
  <a href="#"><div id="blog-7" style="margin-bottom:2em">
    <div id="blog-title-7" style="color:saddlebrown;font-size:100%;font-weight:bold;text-align:left"></div>
    <div id="blog-preview-7" style="font-size:90%"></div>
    <div id="blog-author-7" style="float:left"></div>
    <div id="blog-createdDate-7" style="font-style:italic;margin-left:2em;float:left"></div>
    <div style="clear:both;"></div>
  </div></a>

  <a href="#"><div id="blog-6" style="margin-bottom:2em">
    <div id="blog-title-6" style="color:saddlebrown;font-size:100%;font-weight:bold;text-align:left"></div>
    <div id="blog-preview-6" style="font-size:90%"></div>
    <div id="blog-author-6" style="float:left"></div>
    <div id="blog-createdDate-6" style="font-style:italic;margin-left:2em;float:left"></div>
    <div style="clear:both;"></div>
  </div></a>


</div>

<!-- Footer -->
<footer id="footer">
    <div class="container" style="text-align:center">
        <p>mattTea | B.A(ng)</p>
    </div>
</footer>

</div>

</body>

<script>
//when page has fully rendered then execute this code
$(document).ready(function () {

    $("#navbar").addClass("js").before('<div id="menu" style="color:#784300"><span>â˜°</span></div>');
    $("#menu").click(function() {
        $("#navbar").slideToggle();
    });

    $(window).resize(function() {
        if(window.innerWidth > 343) {
            $("#navbar").removeAttr("style");
        }
    });

    //get blog-7 details from cosmic api
    var blog7 = "https://api.cosmicjs.com/v1/matttea-blog-app/object/style-over-content";
    $.get(blog7, function (data) {
        if (!!data) {
            var title = data.object.title;
            var author = data.object.metadata.author.title;
            var createdDate = data.object.created_at;
            var displayDate = createdDate.charAt(8) + createdDate.charAt(9) + '/' + createdDate.charAt(5) + createdDate.charAt(6) + '/' + createdDate.charAt(0) + createdDate.charAt(1) + createdDate.charAt(2) + createdDate.charAt(3);
            var content = data.object.content; // do something here to only return first xx chars
            var preview = content.substring(0, 150) + "...  >>";

            $("#blog-title-7").html(title);
            $("#blog-author-7").html(author);
            $("#blog-createdDate-7").html(displayDate);
            $("#blog-preview-7").html(preview);
        }
    });

    //get blog-6 details from cosmic api
    var blog6 = "https://api.cosmicjs.com/v1/matttea-blog-app/object/realisation-redesign-and-recognition";
    $.get(blog6, function (data) {
        if (!!data) {
            var title = data.object.title;
            var author = data.object.metadata.author.title;
            var createdDate = data.object.created_at;
            var displayDate = createdDate.charAt(8) + createdDate.charAt(9) + '/' + createdDate.charAt(5) + createdDate.charAt(6) + '/' + createdDate.charAt(0) + createdDate.charAt(1) + createdDate.charAt(2) + createdDate.charAt(3);
            var content = data.object.content; // do something here to only return first xx chars
            var preview = content.substring(0, 150) + "...  >>";

            $("#blog-title-6").html(title);
            $("#blog-author-6").html(author);
            $("#blog-createdDate-6").html(displayDate);
            $("#blog-preview-6").html(preview);
        }
    });


});

</script>


</html>
